<%- include('../../partials/header', {title: 'Gallery'}) -%>
<style>
  #photos {
    line-height: 0;
    -webkit-column-count: 5;
    -webkit-column-gap: 0px;
    -moz-column-count: 5;
    -moz-column-gap: 0px;
    column-count: 5;
    column-gap: 0px;
  }

  #photos img {
    width: 100% !important;
    height: auto !important;
  }

  @media (max-width: 1200px) {
    #photos {
      -moz-column-count: 4;
      -webkit-column-count: 4;
      column-count: 4;
    }
  }

  @media (max-width: 1000px) {
    #photos {
      -moz-column-count: 3;
      -webkit-column-count: 3;
      column-count: 3;
    }
  }

  @media (max-width: 800px) {
    #photos {
      -moz-column-count: 2;
      -webkit-column-count: 2;
      column-count: 2;
    }
  }

  @media (max-width: 400px) {
    #photos {
      -moz-column-count: 1;
      -webkit-column-count: 1;
      column-count: 1;
    }
  }
</style>
<!-- Body -->
<h1>Gallery</h1>
<div id="rss-feed-container">
  <!-- RSS feed items will be dynamically inserted here -->
</div>
<!-- Folder -->
<div class="feed-item">
  <h2>images/avatars/NFTs</h2>
  <% images.forEach(image => {%>
  <img class="widget-image-open-modal" id="myImg" src="<%=image.path%>" alt="<%=image.fileName%>" style="width:200px">
  <%});%>
</div>
<!-- Index -->
<div class="feed-item">
  <h2><%-include('sorted-labels', {path: 'gallery'})-%></h2>
  <section id="photos">
    <%paginationResult.data.forEach(result => { for(const image of result.images){%>
    <%const caption = '<a href='+common.links.viewPost({id: result.postId})+'>'+result.title+'</a>'%>
    <a href="#<%=result.postId%>">
      <img class="widget-image-open-modal" id="myImg<%=result.postId%>" src="<%=image%>" alt="<%=caption%>" style="width:300px; <%if(result.isNSFW){%>filter: blur(1.5rem);<%}%>" onerror="Widgets_ImageModal.onImgError(this)">
    </a>
    <%}%>
    <%});%>
  </section>
</div>
<%-include('pagination')-%>
<%-include('image-modal')-%>
<%-include('../../partials/footer')-%>